import{u as m,r as p,c as d,a as s,w as f,b as r,v as a,d as w,e as g,f as v,o as b,g as c,h as C}from"./index-BwlxGF34.js";const x={id:"signUpPage",class:"bg-yellow"},k={class:"container signUpPage vhContainer"},U={__name:"SignUpPage",setup(y){const n=m(),e=p({email:"",password:"",confirmPassword:"",nickname:""}),i=async()=>{if(e.value.password!==e.value.confirmPassword){alert("密碼不一致");return}try{(await C.post("https://todolist-api.hexschool.io/users/sign_up",{email:e.value.email,password:e.value.password,nickname:e.value.nickname})).status===201&&(alert("註冊成功，請登入"),n.push("/"))}catch(t){t.response&&t.response.status===400?alert("用戶已存在"):alert("註冊失敗")}};return(t,o)=>{const u=v("router-link");return b(),d("div",x,[s("div",k,[o[11]||(o[11]=s("div",{class:"side"},[s("a",{href:"#"},[s("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),s("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1)),s("div",null,[s("form",{class:"formControls",onSubmit:f(i,["prevent"])},[o[5]||(o[5]=s("h2",{class:"formControls_txt"},"註冊帳號",-1)),o[6]||(o[6]=s("label",{class:"formControls_label",for:"email"},"Email",-1)),r(s("input",{class:"formControls_input",type:"text",id:"email","onUpdate:modelValue":o[0]||(o[0]=l=>e.value.email=l),placeholder:"請輸入 email",required:""},null,512),[[a,e.value.email]]),o[7]||(o[7]=s("label",{class:"formControls_label",for:"name"},"您的暱稱",-1)),r(s("input",{class:"formControls_input",type:"text",id:"name","onUpdate:modelValue":o[1]||(o[1]=l=>e.value.nickname=l),placeholder:"請輸入您的暱稱"},null,512),[[a,e.value.nickname]]),o[8]||(o[8]=s("label",{class:"formControls_label",for:"pwd"},"密碼",-1)),r(s("input",{class:"formControls_input",type:"password",id:"pwd","onUpdate:modelValue":o[2]||(o[2]=l=>e.value.password=l),placeholder:"請輸入密碼",required:""},null,512),[[a,e.value.password]]),o[9]||(o[9]=s("label",{class:"formControls_label",for:"confirmPwd"},"再次輸入密碼",-1)),r(s("input",{class:"formControls_input",type:"password",id:"confirmPwd","onUpdate:modelValue":o[3]||(o[3]=l=>e.value.confirmPassword=l),placeholder:"請再次輸入密碼",required:""},null,512),[[a,e.value.confirmPassword]]),o[10]||(o[10]=s("input",{class:"formControls_btnSubmit",type:"submit",value:"註冊帳號"},null,-1)),w(u,{class:"formControls_btnLink",to:"/login"},{default:g(()=>o[4]||(o[4]=[c("登入")])),_:1})],32)])])])}}};export{U as default};
